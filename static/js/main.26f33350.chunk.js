(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{20:function(e,t,a){},21:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var c,s=a(1),n=a.n(s),r=a(10),i=a.n(r),l=(a(20),a(5)),d=a(2),j=(a(21),a(11)),o=a(12),h="ADD NEW",u="SET DEFAULT",m=a(0),b=o.a.div(c||(c=Object(j.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100vh;\n  background: #d3d3d3;\n  width: 80%;\n  z-index: 10;\n  transform: ",";\n  transition: transform 0.3s ease-in-out;\n  padding: 1rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: column;\n"])),(function(e){return e.open?"translateX(0)":"translateX(100%)"})),p=function(e){var t=e.dispatch,a=e.userData,c=e.getWeather,n=Object(s.useState)(!1),r=Object(d.a)(n,2),i=r[0],l=r[1],j=Object(s.useState)(""),o=Object(d.a)(j,2),h=o[0],p=o[1];return Object(m.jsxs)("div",{className:"hamburger",children:[Object(m.jsxs)("div",{className:"hamburger__header",children:[Object(m.jsx)("p",{className:"hamburger__heading",children:"Weather App"}),Object(m.jsxs)("div",{className:"hamburger__icon",children:[!i&&Object(m.jsx)("i",{onClick:function(){return l(!0)},className:"fas fa-bars"}),i&&Object(m.jsx)("i",{onClick:function(){return l(!1)},className:"fas fa-times"})]})]}),Object(m.jsxs)(b,{open:i,children:[Object(m.jsxs)("div",{className:"hamburger__recent",children:[Object(m.jsxs)("h4",{className:"hamburger__main-heading",children:["Your recent searches ",Object(m.jsx)("i",{className:"fas fa-search"})]}),Object(m.jsx)("p",{className:"hamburger__description",children:"Click one of them to see weather"}),Object(m.jsx)("div",{className:"hamburger__container-recent",children:a.slice(1).map((function(e,t){return Object(m.jsx)("p",{onClick:function(){c(e),l(!1)},className:"hamburger__recent-words",children:e},t)}))})]}),Object(m.jsxs)("div",{className:"hamburger__user-default-city",children:[Object(m.jsxs)("h4",{className:"hamburger__main-heading",children:["Set your city ",Object(m.jsx)("i",{className:"fas fa-home"})]}),Object(m.jsx)("p",{className:"hamburger__description",children:"You can see your city as default."}),Object(m.jsxs)("label",{className:"hamburger__label",children:[Object(m.jsx)("input",{className:"hamburger__input",defaultValue:a[0].defaultCity,onChange:function(e){return p(e.target.value)},type:"text"}),Object(m.jsx)("button",{onClick:function(){t({type:u,payload:{city:h}}),l(!1)},className:"hamburger__btn",children:"SET"})]})]}),Object(m.jsxs)("div",{className:"hamburger__rights",children:[Object(m.jsx)("p",{className:"hamburger__footer-text",children:"WeatherApp by mix1o"}),Object(m.jsx)("p",{className:"hamburger__footer-text",children:"All rights reserved \xa9"})]})]})]})},O=function(){return Object(m.jsxs)("div",{className:"loading",children:[Object(m.jsx)("i",{className:"fas fa-cloud"}),Object(m.jsx)("i",{className:"fas fa-bolt"}),Object(m.jsx)("i",{className:"fas fa-sun"}),Object(m.jsx)("i",{className:"fas fa-cloud-showers-heavy"}),Object(m.jsx)("p",{className:"loading__text",children:"Loading ..."})]})},x=function(e){var t=e.lat,a=e.lon,c=Object(s.useState)([]),n=Object(d.a)(c,2),r=n[0],i=n[1];return Object(s.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(a,"&exclude=hourly&appid=").concat("7e370e3dd7190049ec2699d522a30847","&units=metric")).then((function(e){return e.json()})).then((function(e){return i(e.daily)}))}),[]),Object(m.jsx)(m.Fragment,{children:r.map((function(e){return e.weather.map((function(t,a){var c=t.main,s=t.icon;return Object(m.jsxs)("div",{className:"next-day",children:[Object(m.jsx)("p",{className:"next-day__date",children:new Date(1e3*e.dt).toLocaleDateString()}),Object(m.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(s,".png")}),Object(m.jsxs)("p",{className:"next-day__temp",children:[e.temp.day.toFixed(0),"\xb0 C"]}),Object(m.jsx)("p",{className:"next-day__description",children:c})]},a)}))}))})},_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f=function(e){var t=e.weather;return Object(m.jsxs)("div",{className:"weather__details",children:[Object(m.jsxs)("div",{className:"weather__info",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__details-main",children:[t.main.temp_min.toFixed(0),"\xb0 C"]}),Object(m.jsx)("p",{className:"weather__details-description",children:"Temperature min"})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__details-main",children:[t.wind.speed," km / h"]}),Object(m.jsx)("p",{className:"weather__details-description",children:"Wind speed"})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__details-main",children:[t.main.humidity,"%"]}),Object(m.jsx)("p",{className:"weather__details-description",children:"Humidity"})]})]}),Object(m.jsxs)("div",{className:"weather__info weather__info--lower",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__details-main",children:[t.main.temp_max.toFixed(0),"\xb0 C"]}),Object(m.jsx)("p",{className:"weather__details-description",children:"Temperature max"})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__details-main",children:[t.main.pressure,"hPa"]}),Object(m.jsx)("p",{className:"weather__details-description",children:"Pressure"})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__details-main",children:[t.main.feels_like,"\xb0 C"]}),Object(m.jsx)("p",{className:"weather__details-description",children:"Feels like"})]})]})]})},N=function(e){var t=e.weather,a=Object(s.useState)(""),c=Object(d.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)(0),l=Object(d.a)(i,2),j=l[0],o=l[1];return Object(s.useEffect)((function(){!function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear();o(e.getDay()-1),t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),r("".concat(t,"/").concat(a,"/").concat(c))}()}),[]),Object(m.jsx)(m.Fragment,{children:t&&Object(m.jsxs)("div",{className:"weather",children:[Object(m.jsxs)("div",{className:"weather__city",children:[Object(m.jsxs)("h3",{children:[t.name,", ",Object(m.jsx)("span",{className:"weather__country"}),t.sys.country]}),Object(m.jsxs)("p",{className:"weather__date",children:[_[j]," ",n]})]}),Object(m.jsx)("div",{className:"weather__current",children:t.weather.map((function(e,a){var c=e.main,s=e.icon;return Object(m.jsxs)("div",{className:"weather__container",children:[Object(m.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(s,"@2x.png")}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:"weather__temperature",children:[t.main.temp.toFixed(0),"\xb0 C"]}),Object(m.jsx)("p",{className:"weather__description",children:c})]})]},a)}))}),Object(m.jsx)(f,{weather:t}),Object(m.jsxs)("p",{className:"weather__heading",children:["Approximate weather for next days for"," ",Object(m.jsx)("span",{className:"weather__marked",children:t.name})]}),Object(m.jsx)("div",{className:"weather__next-days",children:Object(m.jsx)(x,{lat:t.coord.lat,lon:t.coord.lon})})]})})},g=new(window.SpeechRecognition||window.webkitSpeechRecognition);g.continuos=!0,g.interimResults=!0,g.lang="en-US";var w=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)({}),r=Object(d.a)(n,2),i=r[0],j=r[1],o=Object(s.useState)(!1),b=Object(d.a)(o,2),x=b[0],_=b[1],f=Object(s.useState)(!1),w=Object(d.a)(f,2),y=w[0],v=w[1],S=Object(s.useState)(!1),C=Object(d.a)(S,2),k=C[0],D=C[1],F=Object(s.useState)(null),E=Object(d.a)(F,2),T=E[0],A=E[1],W=Object(s.useState)(!0),L=Object(d.a)(W,2),I=L[0],J=L[1];Object(s.useEffect)((function(){M()}),[x]);var R=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.length>1)return t&&q({type:h,payload:{name:e}}),v(!0),D(!1),void fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("7e370e3dd7190049ec2699d522a30847","&units=metric")).then((function(e){return e.json()})).then((function(e){"404"===e.cod?(v(!1),D(!1),A(!0)):(j(e),v(!1),D(!0),A(!1),J(!1))}));A(!0)},M=function(){x?(a.length>0&&c(""),g.start()):g.stop(),g.onresult=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");t.length>0&&(c(t),g.stop(),_(!1),x||setTimeout((function(){R(t)}),1e3)),g.onerror=function(e){console.log(e.error)}}},P=Object(s.useCallback)((function(e,t){switch(t.type){case h:var a=e.slice(1).findIndex((function(e){return e.toLowerCase()===t.payload.name.toLowerCase()}));return 16===e.length&&e.splice(1,1),-1===a&&e.length<=16?[].concat(Object(l.a)(e),[t.payload.name]):Object(l.a)(e);case u:return e[0].defaultCity=t.payload.city,Object(l.a)(e)}}),[]),Y=Object(s.useReducer)(P,[{defaultCity:""}],(function(){var e=localStorage.getItem("user-data");return e?JSON.parse(e):[{defaultCity:""}]})),U=Object(d.a)(Y,2),X=U[0],q=U[1];return Object(s.useEffect)((function(){if(window.localStorage.setItem("user-data",JSON.stringify(X)),""!==X[0].defaultCity&&!k&&I){var e=X[0].defaultCity;R(e,!1)}}),[X]),console.log(i),Object(m.jsxs)("div",{className:"app ".concat(k?i.weather[0].main:null),children:[Object(m.jsx)(p,{getWeather:R,userData:X,dispatch:q}),Object(m.jsx)("div",{className:"app__search-container",children:Object(m.jsxs)("label",{className:"app__label",children:[Object(m.jsx)("button",{onClick:function(){return R(a)},className:"app__btn-search",children:Object(m.jsx)("i",{className:"fas fa-search"})}),Object(m.jsx)("input",{onKeyDown:function(e){"Enter"===e.code&&R(a)},onChange:function(e){return c(e.target.value)},value:a,className:"app__search",type:"text",placeholder:"San Francisco"}),x&&Object(m.jsx)("i",{className:"fas fa-circle"}),Object(m.jsxs)("button",{className:"app__mic",onClick:function(){return _(!0)},children:[!x&&Object(m.jsx)("i",{className:"fas fa-microphone"}),x&&Object(m.jsx)("i",{className:"fas fa-microphone-slash"})]})]})}),!y&&k&&Object(m.jsx)(N,{weather:i}),y&&Object(m.jsx)(O,{}),T&&Object(m.jsx)("p",{className:"app__error",children:"City not found. Please enter a valid name of city and remember name of city must be at least 3 words!"})]})};i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.26f33350.chunk.js.map